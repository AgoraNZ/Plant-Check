<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dairy Shed Hygiene Checklist</title>
    <style>
        body {
            background-color: #001F3F; /* Navy blue background */
            color: white;
            font-family: Arial, sans-serif;
        }
        h1 {
            text-align: center;
        }
        label {
            display: block;
            margin: 10px 0 5px;
        }
        input[type="text"], input[type="time"], input[type="date"], select, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #FF851B; /* Orange accents */
            border-radius: 5px;
            background-color: #001F3F;
            color: white;
        }
        button {
            background-color: #FF851B; /* Orange accents */
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #FF4136; /* Red hover color */
        }
        .image-upload {
            display: none; /* Initially hidden */
        }
    </style>
</head>
<body>
    <h1>Dairy Shed Hygiene Checklist</h1>
    <form id="hygieneForm">
        <h2>Farm Details</h2>
        <label>Dairy Company:</label>
        <input type="text" id="dairyCompany" required>
        
        <label>Dairy Number:</label>
        <input type="text" id="dairyNumber" required>
        
        <label>Address:</label>
        <input type="text" id="address" required>
        
        <label>Customer Name:</label>
        <input type="text" id="customerName" required>
        
        <label>Region:</label>
        <select id="region" required>
            <option value="">Select Region</option>
            <!-- Add options for regions -->
        </select>
        
        <label>Farm Name:</label>
        <input type="text" id="farmName" required>
        
        <label>Island:</label>
        <select id="island" required>
            <option value="North Island">North Island</option>
            <option value="South Island">South Island</option>
        </select>
        
        <label>Visit Date:</label>
        <input type="date" id="visitDate" required>
        
        <label>Visit Type:</label>
        <input type="text" id="visitType" required>
        
        <label>Time Inspection Started:</label>
        <input type="time" id="timeStarted" required>
        
        <label>Time Inspection Ended:</label>
        <input type="time" id="timeEnded" required>
        
        <label>Inspection Completed by:</label>
        <input type="text" id="completedBy" required>
        
        <label>Call Type:</label>
        <input type="text" id="callType" required>
        
        <h2>HEALTH & SAFETY</h2>
        <label>Rating:</label>
        <select id="healthSafetyRating" class="checklist-rating" required>
            <option value="OK">OK</option>
            <option value="Attention Required">Attention Required</option>
            <option value="NA">NA</option>
        </select>
        <label>Comments:</label>
        <textarea id="healthSafetyComments"></textarea>
        <input type="file" class="image-upload" accept="image/*">
        
        <h2>MILKING PLANT</h2>
        <label>Rating:</label>
        <select id="milkingPlantRating" class="checklist-rating" required>
            <option value="OK">OK</option>
            <option value="Attention Required">Attention Required</option>
            <option value="NA">NA</option>
        </select>
        <label>Comments:</label>
        <textarea id="milkingPlantComments"></textarea>
        <input type="file" class="image-upload" accept="image/*">
        
        <h2>Checklist Items</h2>
        <div id="checklistItems">
            <div>
                <h5>Pulsator Airline</h5>
                <label>Rating:</label>
                <select class="checklist-rating" required>
                    <option value="OK">OK</option>
                    <option value="Attention Required">Attention Required</option>
                    <option value="NA">NA</option>
                </select>
                <label>Comments:</label>
                <textarea class="checklist-comments"></textarea>
                <input type="file" class="image-upload" accept="image/*">
            </div>
            <div>
                <h5>Long Bend Elbows</h5>
                <label>Rating:</label>
                <select class="checklist-rating" required>
                    <option value="OK">OK</option>
                    <option value="Attention Required">Attention Required</option>
                    <option value="NA">NA</option>
                </select>
                <label>Comments:</label>
                <textarea class="checklist-comments"></textarea>
                <input type="file" class="image-upload" accept="image/*">
            </div>
            <div>
                <h5>Automatic Cup / Remover</h5>
                <label>Rating:</label>
                <select class="checklist-rating" required>
                    <option value="OK">OK</option>
                    <option value="Attention Required">Attention Required</option>
                    <option value="NA">NA</option>
                </select>
                <label>Comments:</label>
                <textarea class="checklist-comments"></textarea>
                <input type="file" class="image-upload" accept="image/*">
            </div>
            <!-- Repeat the structure for all items in your checklist -->
        </div>

        <button type="button" id="generatePDF">Generate PDF</button>
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Auto-populate today's date
        document.getElementById('visitDate').valueAsDate = new Date();

        // Show/hide image upload based on rating
        document.querySelectorAll('.checklist-rating').forEach(select => {
            select.addEventListener('change', function () {
                const imageUpload = this.parentElement.querySelector('.image-upload');
                if (this.value === "Attention Required") {
                    imageUpload.style.display = 'block';
                } else {
                    imageUpload.style.display = 'none';
                }
            });
        });

        // Generate PDF
        document.getElementById('generatePDF').addEventListener('click', async function () {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Adding form data to PDF
            doc.text("Dairy Shed Hygiene Checklist", 20, 10);
            doc.text("Farm Details", 20, 20);
            doc.text(`Dairy Company: ${document.getElementById('dairyCompany').value}`, 20, 30);
            doc.text(`Dairy Number: ${document.getElementById('dairyNumber').value}`, 20, 40);
            doc.text(`Address: ${document.getElementById('address').value}`, 20, 50);
            doc.text(`Customer Name: ${document.getElementById('customerName').value}`, 20, 60);
            doc.text(`Region: ${document.getElementById('region').value}`, 20, 70);
            doc.text(`Farm Name: ${document.getElementById('farmName').value}`, 20, 80);
            doc.text(`Island: ${document.getElementById('island').value}`, 20, 90);
            doc.text(`Visit Date: ${document.getElementById('visitDate').value}`, 20, 100);
            doc.text(`Visit Type: ${document.getElementById('visitType').value}`, 20, 110);
            doc.text(`Time Inspection Started: ${document.getElementById('timeStarted').value}`, 20, 120);
            doc.text(`Time Inspection Ended: ${document.getElementById('timeEnded').value}`, 20, 130);
            doc.text(`Inspection Completed by: ${document.getElementById('completedBy').value}`, 20, 140);
            doc.text(`Call Type: ${document.getElementById('callType').value}`, 20, 150);
            
            doc.text("HEALTH & SAFETY", 20, 160);
            doc.text(`Rating: ${document.getElementById('healthSafetyRating').value}`, 20, 170);
            doc.text(`Comments: ${document.getElementById('healthSafetyComments').value}`, 20, 180);
            
            doc.text("MILKING PLANT", 20, 190);
            doc.text(`Rating: ${document.getElement
